<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>สั่งซื้อสารเคมี</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Bootstrap Icons (optional) -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />

    <!-- Custom CSS (ถ้ามี) -->
    <link rel="stylesheet" href="/css/index.css" />
  </head>
  <body>
    <div id="site-header"></div>
    <script src="/js/include-header.js"></script>

    <main class="container my-4" style="max-width: 980px">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="mb-0">สั่งซื้อสารเคมี</h3>
        <button id="btnBack" class="btn btn-outline-secondary">
          <i class="bi bi-arrow-left"></i> กลับ
        </button>
      </div>

      <form id="formBuy" class="card shadow-sm p-4">
        <div class="row g-3">
          <!-- ชื่อสารเคมี -->
          <div class="col-md-6">
            <label for="chem_name" class="form-label"
              >ชื่อสารเคมี (ชื่อทางการค้า)</label
            >
            <input
              id="chem_name"
              type="text"
              class="form-control"
              placeholder="-"
              readonly
            />
            <!-- id ที่ JS ใช้เพื่อบันทึก -->
            <input id="chem_id" type="hidden" />
          </div>

          <!-- บริษัทที่ขาย -->
          <div class="col-md-6">
            <label for="company_id" class="form-label"
              >บริษัทที่ขายสารเคมี</label
            >
            <select id="company_id" class="form-select" required>
              <option value="">-- เลือกบริษัท --</option>
            </select>
          </div>

          <!-- ปริมาณที่สั่งซื้อ -->
          <div class="col-md-6">
            <label for="orderbuy" class="form-label"
              >ปริมาณที่สั่ง (กรัม)</label
            >
            <input
              id="orderbuy"
              type="number"
              min="0"
              step="1"
              class="form-control"
              placeholder="เช่น 2500"
              required
            />
            <div id="orderbuy_help" class="form-text">reorder: -</div>
          </div>

          <!-- ราคารวมที่จ่าย (บาท) -->
          <div class="col-md-6">
            <label for="chem_price" class="form-label"
              >ราคารวมที่จ่าย (บาท)</label
            >
            <input
              id="chem_price"
              type="number"
              min="0"
              step="0.01"
              class="form-control"
              placeholder="เช่น 1221"
              required
            />
            <div class="form-text">ใช้คำนวณราคา/กรัม</div>
          </div>

          <!-- ราคา/กรัม (คำนวณ) -->
          <div class="col-12">
            <label for="price_gram" class="form-label">ราคา/กรัม (คำนวณ)</label>
            <input
              id="price_gram"
              type="text"
              class="form-control"
              placeholder="ระบบจะคำนวณให้อัตโนมัติ"
              readonly
            />
          </div>

<!-- COA -->
<div class="col-md-6">
  <label class="form-label">COA (PDF)</label>
  <div class="input-group">
    <input id="coa" type="text" class="form-control" placeholder="URL COA" readonly />
    <a id="coa_link" class="btn btn-outline-secondary" target="_blank" rel="noopener" disabled>เปิด</a>
  </div>
  <div class="input-group mt-2">
    <input id="coa_file" type="file" accept="application/pdf" class="form-control" />
    <button id="btnUploadCoa" type="button" class="btn btn-outline-primary">
      <i class="bi bi-upload"></i> อัปโหลด COA
    </button>
  </div>
  <div class="form-text">รองรับไฟล์ .pdf ขนาด ≤ 10MB</div>
</div>

<!-- MSDS -->
<div class="col-md-6">
  <label class="form-label">MSDS (PDF)</label>
  <div class="input-group">
    <input id="msds" type="text" class="form-control" placeholder="URL MSDS" readonly />
    <a id="msds_link" class="btn btn-outline-secondary" target="_blank" rel="noopener" disabled>เปิด</a>
  </div>
  <div class="input-group mt-2">
    <input id="msds_file" type="file" accept="application/pdf" class="form-control" />
    <button id="btnUploadMsds" type="button" class="btn btn-outline-primary">
      <i class="bi bi-upload"></i> อัปโหลด MSDS
    </button>
  </div>
  <div class="form-text">รองรับไฟล์ .pdf ขนาด ≤ 10MB</div>
</div>
            </div>
          </div>
        </div>

        <div class="mt-4 d-flex gap-2">
          <button type="submit" class="btn btn-primary">
            <i class="bi bi-check2-square"></i> บันทึกการสั่งซื้อ
          </button>
          <button type="reset" class="btn btn-secondary">ล้างค่า</button>
        </div>
      </form>
    </main>

    <!-- Bootstrap Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- หน้าซื้อ ใช้ไฟล์ JS เวอร์ชันที่คำนวณ price_gram = chem_price ÷ orderbuy -->
    <script src="/js/productorderdetail-buy.js"></script>
    <!-- หรือถ้าโครงสร้างโปรเจ็กต์คุณไม่ใช่ /public/ ให้แก้ path ให้ถูกต้อง เช่น /js/productorderdetail-buy.js -->
  </body>
</html>
